import{i as q,f as B,h as w,j as G,s as N,n as C}from"../chunks/scheduler.FBjjn5oP.js";import{p as O,t as R,b as S,d as U,S as J,i as W,g as v,s as T,m as A,h as k,j as E,y as j,c as y,n as x,f as _,k as p,a as D,x as u,z as L,o as P}from"../chunks/index.Yx7fxxdr.js";function I(t,e){const n=e.token={};function a(r,s,l,m){if(e.token!==n)return;e.resolved=m;let c=e.ctx;l!==void 0&&(c=c.slice(),c[l]=m);const h=r&&(e.current=r)(c);let g=!1;e.block&&(e.blocks?e.blocks.forEach((d,f)=>{f!==s&&d&&(O(),R(d,1,1,()=>{e.blocks[f]===d&&(e.blocks[f]=null)}),S())}):e.block.d(1),h.c(),U(h,1),h.m(e.mount(),e.anchor),g=!0),e.block=h,e.blocks&&(e.blocks[s]=h),g&&G()}if(q(t)){const r=B();if(t.then(s=>{w(r),a(e.then,1,e.value,s),w(null)},s=>{if(w(r),a(e.catch,2,e.error,s),w(null),!e.hasCatch)throw s}),e.current!==e.pending)return a(e.pending,0),!0}else{if(e.current!==e.then)return a(e.then,1,e.value,t),!0;e.resolved=t}}function M(t,e,n){const a=e.slice(),{resolved:r}=t;t.current===t.then&&(a[t.value]=r),t.current===t.catch&&(a[t.error]=r),t.block.p(a,n)}function Q(){if(window&&window.Telegram)return window.Telegram.WebApp;throw new Error("Telegram is not available")}const F="https://powerful-unbiased-gannet.ngrok-free.app";async function z(t){if(!t)throw new Error("Data is required");try{let e={method:"GET",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"69420"}};const n=await fetch(`${F}/validate?${t}`,e);if(!n.ok)throw new Error("Network response was not ok "+n.statusText);const a=await n.json();return console.log(a),a}catch(e){console.error("There was a problem with the fetch operation:",e)}}function H(t){let e,n,a=t[5].message+"",r;return{c(){e=v("div"),n=A("Error: "),r=A(a),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);n=x(l,"Error: "),r=x(l,a),l.forEach(_),this.h()},h(){p(e,"class","text-center")},m(s,l){D(s,e,l),u(e,n),u(e,r)},p(s,l){l&2&&a!==(a=s[5].message+"")&&P(r,a)},d(s){s&&_(e)}}}function K(t){let e,n=JSON.stringify(t[2].initDataUnsafe)+"",a;return{c(){e=v("pre"),a=A(n),this.h()},l(r){e=k(r,"PRE",{class:!0});var s=E(e);a=x(s,n),s.forEach(_),this.h()},h(){p(e,"class","pre")},m(r,s){D(r,e,s),u(e,a)},p:C,d(r){r&&_(e)}}}function X(t){let e,n="Validating...";return{c(){e=v("div"),e.textContent=n,this.h()},l(a){e=k(a,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-2l0okz"&&(e.textContent=n),this.h()},h(){p(e,"class","text-center")},m(a,r){D(a,e,r)},p:C,d(a){a&&_(e)}}}function Y(t){let e,n,a="Go to test page",r,s,l,m,c,h="Validate data",g,d,f,V,i={ctx:t,current:null,token:null,hasCatch:!0,pending:X,then:K,catch:H,value:4,error:5};return I(d=t[1],i),{c(){e=v("div"),n=v("a"),n.textContent=a,r=T(),s=v("pre"),l=A(t[0]),m=T(),c=v("button"),c.textContent=h,g=T(),i.block.c(),this.h()},l(b){e=k(b,"DIV",{class:!0});var o=E(e);n=k(o,"A",{href:!0,"data-svelte-h":!0}),j(n)!=="svelte-1r9mezx"&&(n.textContent=a),r=y(o),s=k(o,"PRE",{class:!0});var $=E(s);l=x($,t[0]),$.forEach(_),m=y(o),c=k(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(c)!=="svelte-zf5j67"&&(c.textContent=h),g=y(o),i.block.l(o),o.forEach(_),this.h()},h(){p(n,"href","/test"),p(s,"class","pre"),p(c,"type","button"),p(c,"class","btn variant-filled rounded-md"),p(e,"class","container container mx-auto p-8 space-y-8")},m(b,o){D(b,e,o),u(e,n),u(e,r),u(e,s),u(s,l),u(e,m),u(e,c),u(e,g),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,f||(V=L(c,"click",t[3]),f=!0)},p(b,[o]){t=b,o&1&&P(l,t[0]),i.ctx=t,o&2&&d!==(d=t[1])&&I(d,i)||M(i,t,o)},i:C,o:C,d(b){b&&_(e),i.block.d(),i.token=null,i=null,f=!1,V()}}}function Z(t,e,n){let a=Q(),r=a.initData;r||(r="query_id=AAEMjsEBAAAAAAyOwQG1I0CJ&user=%7B%22id%22%3A29462028%2C%22first_name%22%3A%22Ilia%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22cherya%22%2C%22language_code%22%3A%22en%22%2C%22is_premium%22%3Atrue%2C%22allows_write_to_pm%22%3Atrue%7D&auth_date=1721476450&hash=502fbda46aef83d390b89b8e203e44303cc5393740522026e864dc43da094bf1");let s=z(r);function l(m){n(1,s=z(r))}return[r,s,a,l]}class ae extends J{constructor(e){super(),W(this,e,Z,Y,N,{})}}export{ae as component};
